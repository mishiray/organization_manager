<!--{extends file="root.html"}-->
<!--{block name="breadcrumb"}-->
<section class="breadcrumb"><strong class="uppercase">Dashboard | Admin&nbsp;<i class="fa fa-user"></i></section>
<!--{/block}-->
<!--{block name="content"}-->
<section class="row">
	<div class="col-sm-12"><a class="btn btn-success btn-sm" href="<!--{$Site.siteProtocol}--><!--{$Site.domainName}-->/root/add_official"><i class="fa fa-plus"></i> New Staff</a></div>
</section>
<section class="jumbotron mt-2 row justify-content-center">
	<div class="card col-md-10 card-body border border-success rounded pt-3 pb-3 team-prf">
		<div class="row justify-content-center mb-3 mt-3">
			<h3 class="col-md-12">Admin Detail</h3>
			<div class="col-md-6 mb-2">
				<img class="img img-thumbnail team-p-img" src="<!--{$Site.siteProtocol}--><!--{$Site.domainName}-->/<!--{if !empty($Official->userimg)}--><!--{$Official->userimg}--><!--{else}-->site/media/i/user-icon.jpg<!--{/if}-->">
			</div>
			<div class="col-md-6 mb-2">
				<fieldset>
					<div class="form-group">
						<h5><span class="float-left">First Name: </span>&nbsp;&nbsp;&nbsp;&nbsp;<!--{$official->firstname|capitalize}--></h5>
					</div>
					<div class="form-group">
						<h5><span class="float-left">Last Name: </span>&nbsp;&nbsp;&nbsp;&nbsp;<!--{$official->lastname|capitalize}--></h5>
					</div>
					<div class="form-group">
						<h5><span class="float-left">Email: </span>&nbsp;&nbsp;&nbsp;&nbsp;<!--{$official->email}--></h5>
					</div>
					<div class="form-group">
						<h5><span class="float-left">Category: </span>&nbsp;&nbsp;&nbsp;&nbsp;<!--{$official->usercat|capitalize}--></h5>
					</div>
					<div class="form-group">
						<h5><span class="float-left">Role: </span>&nbsp;&nbsp;&nbsp;&nbsp;<!--{$official->userrole|capitalize}--></h5>
					</div>
					<div class="form-group">
						<h5><span class="float-left">Gender: </span>&nbsp;&nbsp;&nbsp;&nbsp;<!--{$official->gender|capitalize}--></h5>
					</div>
					<div class="form-group">
						<h5><span class="float-left">Address: </span>&nbsp;&nbsp;&nbsp;&nbsp;<!--{$official->address1}--> <!--{$official->address2}--></h5>
					</div>
					<div class="form-group">
						<h5><span class="float-left">Contact No: </span>&nbsp;&nbsp;&nbsp;&nbsp;<!--{$official->phone}--></h5>
					</div>
				</fieldset>
			</div>
			<div class="col-md-12" id="accordion">
				<div class="form-group mb-2">
			      	<a class="btn btn-warning" href="<!--{$Site.siteProtocol}--><!--{$Site.domainName}-->/root/officials"><i class="fa fa-undo"></i> Back</a>
					<!--{if in_array($official->userrole, array('level2','level3','level4')) and in_array($userinfo->userrole, array('level0','level1')) }-->
					<button class="btn btn-success" type="button" data-toggle="collapse" data-target="#editOfficialDetail" aria-expanded="true" aria-controls="editOfficialDetail" id="editOfficial"><i class="fa fa-pencil"></i> Edit Staff Detail</button>
					<button class="btn btn-danger" type="button" data-toggle="collapse" data-target="#deleteOfficialDetail" aria-expanded="true" aria-controls="deleteOfficialDetail" id="deleteOfficial"><i class="fa fa-trash"></i> Delete Staff</button>
					<!--{/if}-->
				</div>
				<div class="form-group">
					<!--{if !empty($fail)}-->
						<!--{$fail}-->
					<!--{/if}-->
				</div>
				<!--{if in_array($official->userrole, array('level2','level3','level4')) and in_array($userinfo->userrole, array('level0','level1')) }-->
				<form method="post" action="<!--{$Site.siteProtocol}--><!--{$Site.domainName}-->/root/edit_official?id=<!--{$official->email}-->" style="width: 100%;">
					<div id="editOfficialDetail" class="collapse" aria-labelledby="editOfficial" data-parent="#accordion">
						<fieldset>
							<legend>Admin Information</legend>
							<div class="card pt-3 pb-3">
								<div class="form-group">
									<div class="card-heading text-center">
										<div class="img-scope">
											<label for="img-upload">
												<img class="img img-thumbnail" id="dataImg" src="<!--{$Site.siteProtocol}--><!--{$Site.domainName}-->/<!--{if !empty($Official->userimg)}--><!--{$Official->userimg}--><!--{else}-->site/media/i/user-icon.png<!--{/if}-->">
												<data class="text-center jsonly">Update Photo</data>
											</label>
											<input type="file" accept="image/*" id="img-upload" name="img_upload"/>
											<noscript><button class="text-center" id="ppUpload" name="ppUpload" type="button">Upload Photo</button></noscript>
										</div>
									</div>
								</div>
								<div class="card-body row justify-content-center">
									<div class="col-md-6">
										<legend>Personal Information</legend>
										<div class="form-group">
											<label for="username">Username</label>
											<input type="text" id="username" name="username" value="<!--{$official->username}-->" class="form-control input-block" required/>
										</div>
										<div class="form-group">
											<label for="firstName" class="label">First Name</label>
											<input type="text" id="firstName" name="firstname" class="form-control input-block" value="<!--{$official->firstname}-->" required />
										</div>
										<div class="form-group">
											<label for="lastName">Last Name</label>
											<input type="text" id="lastName" name="lastname" class="form-control input-block" value="<!--{$official->lastname}-->" required/>
										</div>
										<div class="form-group">
											<label for="lastName">Other Names</label>
											<input type="text" id="otherName" name="othername" class="form-control input-block"  value="<!--{$official->middlename}-->"/>
										</div>
										<div class="form-group">
											<label for="email">Email</label>
											<input type="email" id="email" name="email" class="form-control text-secondary input-block" value="<!--{$official->email}-->" required/>
										</div>
										<div class="form-group d-none">
											<label for="password">Staff's Login Password</label>
											<input type="password" id="password" name="password"  value="<!--{$official->password}-->" class="form-control text-secondary input-block" required/>
											<span class="small cpassword"></span>
										</div>
										<div class="form-group">
											<label for="phone">Phone Number</label>
											<input type="tel" id="phone" name="phone" class="form-control input-block" value="<!--{$official->phone}-->" required/>
										</div>
										<div class="form-group">
											<label for="gender">Gender</label>
											<select name="gender" class="form-control" id="gender" required>
												<option value="female" <!--{if $official->gender=='female'}-->selected<!--{/if}-->>Female</option>
												<option value="male" <!--{if $official->gender=='male'}-->selected<!--{/if}-->>Male</option>
											</select>
										</div>
									</div>
									<div class="col-md-6">
										<legend>Address Information</legend>
										<div class="form-group">
											<label for="address1">Address</label>
											<textarea id="address1" name="address1" rows="3" class="form-control" required><!--{$official->address1}--></textarea>
										</div>
										<div class="form-group">
											<label for="address2">Address</label>
											<textarea id="address2" name="address2" rows="3" class="form-control"><!--{$official->address2}--></textarea>
										</div>
										<div class="form-group">
											<label for="country">Nationality</label>
											<select id="country" name="country" required class="form-control signup-input">
												<!--{if !empty($countries)}-->
												<!--{foreach $countries as $country}-->
													<option value="<!--{$country->name}-->" <!--{if $official->country==$country->name}-->selected<!--{/if}-->><!--{$country->name|capitalize}--></option>
												<!--{/foreach}-->
												<!--{/if}-->
											</select>
										</div>
										<div class="form-group">
											<label for="state">State of Origin</label>
											<select id="state" name="state" required class="form-control signup-input">
												<!--{if !empty($states)}-->
												<!--{foreach $states as $state}-->
													<option value="<!--{$state->name}-->" <!--{if $official->state==$state->name}-->selected<!--{/if}-->><!--{$state->name|capitalize}--></option>
												<!--{/foreach}-->
												<!--{/if}-->
											</select>
										</div>
										<div class="form-group">
											<label for="citi">City | Local Govt Area</label>
											<input type="text" name="city" id="citi" class="form-control signup-input" value="<!--{$official->city}-->" list="city">
											<datalist id="city">
												<!--{if !empty($cities)}-->
												<!--{foreach $cities as $city}-->
													<option value="<!--{$city->name}-->"><!--{$city->name|capitalize}--></option>
												<!--{/foreach}-->
												<!--{/if}-->
											</datalist>
										</div>
										<div class="form-group"><hr/></div>
										<div class="form-group">
											<label for="userrole">Dashboard Role</label>
											<select id="userrole" name="userrole" required class="form-control signup-input">
												<option value="level1" <!--{if $official->userrole=='level1'}-->selected<!--{/if}-->>Super Admin</option>
												<option value="level2" <!--{if $official->userrole=='level2'}-->selected<!--{/if}-->>Admin Level 2</option>
												<option value="level3" <!--{if $official->userrole=='level3'}-->selected<!--{/if}-->>Admin</option>
												<option value="level4" <!--{if $official->userrole=='level4'}-->selected<!--{/if}-->>Course Instructor</option>
											</select>
										</div>
										<div class="form-group">
											<button class="btn btn-success btn-block" type="submit" name="edit_official">Update staff Detail</button>
										</div>
									</div>
								</div>
							</div>
						</fieldset>
					</div>
				</form>
				<form method="post" action="<!--{$Site.siteProtocol}--><!--{$Site.domainName}-->/root/edit_official?id=<!--{$official->email}-->" style="width: 100%;">
					<div id="deleteOfficialDetail" class="collapse" aria-labelledby="deleteOfficial" data-parent="#accordion">
						<fieldset>
							<legend>Admin Delete Confirmation</legend>
							<div class="alert alert-danger alert-dismissible" role="alert">
								<p>Are you sure to delete this staff?</p>
								<p>Note that every stored details relating to this staff will be entirely lost and unrecoverable afther this event is triggered</p>
								<p class="text-center">
									<button class="btn btn-danger" type="submit" name="delete_official">Proceed</button>&nbsp;
									<button class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#deleteOfficialDetail" aria-expanded="true" aria-controls="deleteOfficialDetail" id="deleteOfficial">Cancel</button>
								</p>
							</div>
						</fieldset>
					</div>
				</form>
				<!--{/if}-->
			</div>
		</div>
	</div>
</section>
<!--{/block}-->